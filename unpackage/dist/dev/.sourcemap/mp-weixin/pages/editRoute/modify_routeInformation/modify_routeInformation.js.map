{"version":3,"sources":["webpack:///D:/Vue/uni-app/myFirstApp/YanYou/YanYou/main.js","webpack:///D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/modify_routeInformation/modify_routeInformation.vue?b1c5","webpack:///D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/modify_routeInformation/modify_routeInformation.vue?1e0c","webpack:///D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/modify_routeInformation/modify_routeInformation.vue?e2cc","webpack:///D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/modify_routeInformation/modify_routeInformation.vue?b5bb","webpack:///D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/modify_routeInformation/modify_routeInformation.vue"],"names":["createPage","Page","data","routeName_before","routeId","userInfomation","userRoute","routeInfomation","routeStartTime","routeEndTime","backgroundImg","isChooseOver","startDataSet","endDataSet","methods","onLoad","e","uni","getStorageSync","userName","replace","startYear","Date","getFullYear","endYear","defaultValue","save","get_specialFormat","dateStatus","check_date","nowRouteDay","dateSpace","beforeRouteDay","routeDay","showModal","title","content","showCancel","success","res","confirm","route","splice","length","cach","i","saveFile","tempFilePath","path","routeImg","savedFilePath","setStorageSync","fail","showToast","icon","s","reLaunch","url","date","split","nDate","parseInt","year","mon","getMonth","day","getDate","sDate","eDate","Status_A","Status_B","sDay","eDay","getTime","sDate1","sDate2","dateSpan","tempDate","iDays","parse","Math","abs","floor","components","QSInput","QSPickerDate","QSInfinitePics"],"mappings":"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","file":"pages/editRoute/modify_routeInformation/modify_routeInformation.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/editRoute/modify_routeInformation/modify_routeInformation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./modify_routeInformation.vue?vue&type=template&id=29e5e03a&\"\nvar renderjs\nimport script from \"./modify_routeInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./modify_routeInformation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('29e5e03a')) {\n      api.createRecord('29e5e03a', component.options)\n    } else {\n      api.reload('29e5e03a', component.options)\n    }\n    module.hot.accept(\"./modify_routeInformation.vue?vue&type=template&id=29e5e03a&\", function () {\n      api.rerender('29e5e03a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/modify_routeInformation/modify_routeInformation.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modify_routeInformation.vue?vue&type=template&id=29e5e03a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modify_routeInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modify_routeInformation.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport QSInput from '@/components/QS-inputs-split/elements/QS-input/index.vue';\nimport QSPickerDate from '@/components/QS-inputs-split/elements/QS-picker-date/index.vue';\nimport QSInfinitePics from '@/components/QS-inputs-split/elements/QS-infinitePics/index.vue';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\trouteName_before:\"\",\t\t//用户更改前路线\n\t\t\trouteId:\"\",\t\t\t\t\t//路线名\n\t\t\tuserInfomation:\"\",\t\t\t//用户信息\n\t\t\tuserRoute:\"\",\t\t\t\t//用户所有路线\n\t\t\trouteInfomation:\"\",\t\t\t//当前路线\n\t\t\trouteStartTime:\"\",\t\t\t//路线开始时间\n\t\t\trouteEndTime:\"\",\t\t\t//路线结束时间\n\t\t\tbackgroundImg:\"\",\t\t\t//路线图片\n\t\t\tisChooseOver:false\t\t\t,//弹窗是否选择结束\n\t\t\tstartDataSet:{},\n\t\t\tendDataSet:{}\n\t\t}\n\t},\n\tmethods: {\n\t\tonLoad:function(e){\n\t\t\t//加载数据\n\t\t\tthis.routeId=e.routeId;\n\t\t\tthis.userInfomation=uni.getStorageSync(\"currentUser\");\n\t\t\tthis.userRoute=uni.getStorageSync(this.userInfomation.userName+\"_route\");\n\t\t\tthis.routeInfomation=this.userRoute[this.routeId];\n\t\t\t//因类型转化故特拿出来重新定义\n\t\t\tthis.routeStartTime=this.routeInfomation.routeStartTime.replace(/-/g,'/');\n\t\t\tthis.routeEndTime=this.routeInfomation.routeEndTime.replace(/-/g,'/');\n\t\t\t//日期默认值设置\n\t\t\tthis.startDataSet={\n\t\t\t\tstartYear:new Date().getFullYear() - 20,\n\t\t\t\tendYear:new Date().getFullYear() + 20,\n\t\t\t\tdefaultValue:this.routeStartTime\n\t\t\t}\n\t\t\tthis.endDataSet={\n\t\t\t\tstartYear:new Date().getFullYear() - 20,\n\t\t\t\tendYear:new Date().getFullYear() + 20,\n\t\t\t\tdefaultValue:this.routeEndTime\n\t\t\t}\n\t\t},\n\t\t\n\t\t//保存到本地数据库\n\t\tsave:function(){\n\t\t\t/* 日期检查二周目，直接跳过以下验证 */\n\t\t\tif(!this.isChooseOver){\n\t\t\t\t//改变了日期\n\t\t\t\tif(typeof(this.routeInfomation.routeStartTime)!=\"string\"){\n\t\t\t\t\tthis.routeInfomation.routeStartTime=this.get_specialFormat(this.routeInfomation.routeStartTime.data);\n\t\t\t\t}\n\t\t\t\tif(typeof(this.routeInfomation.routeEndTime)!=\"string\"){\n\t\t\t\t\tthis.routeInfomation.routeEndTime=this.get_specialFormat(this.routeInfomation.routeEndTime.data);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//日期检查\n\t\t\t\tvar dateStatus=this.check_date(this.routeInfomation.routeStartTime,this.routeInfomation.routeEndTime);\n\t\t\t\tvar nowRouteDay=this.dateSpace(this.routeInfomation.routeStartTime,this.routeInfomation.routeEndTime)\n\t\t\t\tvar beforeRouteDay=this.routeInfomation.routeDay;\n\t\t\t\tswitch (dateStatus){\n\t\t\t\t\tcase \"true-true\":\t\t\t\t//日期相反，小于行程天数，不允许保存\n\t\t\t\t\tcase \"true-false\":{\t\t\t\t//日期相反，大于行程天数，不允许保存\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle:\"提示\",\n\t\t\t\t\t\t\tcontent:\"结束日期应大于或等于开始日期\",\n\t\t\t\t\t\t\tshowCancel:false\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}break;\n\t\t\t\t\tcase \"false-true\":{\t\t\t\t//日期不相反，小于行程天数，删除多余天数\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle:\"提示\",\n\t\t\t\t\t\t\tcontent:\"改动后的天数小于行程天数，这将删除多余安排，确定这样操作吗\",\n\t\t\t\t\t\t\tshowCancel:true,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\t\t\tthis.routeInfomation.route.splice(nowRouteDay,this.routeInfomation.route.length-nowRouteDay);\n\t\t\t\t\t\t\t\t\tthis.isChooseOver=true;\n\t\t\t\t\t\t\t\t\tthis.save();\t//再次进入，直接跳过本部分\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}break;\n\t\t\t\t\tcase \"false-false\":{\t\t\t//日期不相反，大于行程天数，扩展日期\n\t\t\t\t\t\tvar cach=[]\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor(var i=0;i<nowRouteDay;i++){\n\t\t\t\t\t\t\tif(typeof(this.routeInfomation.route[i]) == \"object\"){\n\t\t\t\t\t\t\t\tcach[i]=this.routeInfomation.route[i]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tcach[i]=[];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.routeInfomation.route=cach;\n\t\t\t\t\t}break;\n\t\t\t\t}\n\t\t\t\tthis.isChooseOver=false;\n\t\t\t}\n\t\t\t\n\t\t\tthis.routeInfomation.routeDay=this.dateSpace(this.routeInfomation.routeStartTime,this.routeInfomation.routeEndTime);\n\t\t\t\n\t\t\t\n\t\t\t// 改了背景图\n\t\t\tif(this.backgroundImg!=\"\"){\n\t\t\t\t//保存图片\n\t\t\t\tuni.saveFile({\n\t\t\t\t\ttempFilePath: this.backgroundImg[0].path,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t//存入图片信息\n\t\t\t\t\t\tthis.routeInfomation.routeImg=res.savedFilePath;\n\t\t\t\t\t\t\n\t\t\t\t\t\t/* 保存到数据库 */\n\t\t\t\t\t\t//加入新数据\n\t\t\t\t\t\tthis.userRoute[this.routeId]=this.routeInfomation;\n\t\t\t\t\t\t//存到本地数据库\n\t\t\t\t\t\tuni.setStorageSync(this.userInfomation.userName+\"_route\",this.userRoute);\n\t\t\t\t\t},\n\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:\"图片保存失败\",\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\t/* 保存到数据库 */\n\t\t\t\t//加入新数据\n\t\t\t\tthis.userRoute[this.routeId]=this.routeInfomation;\n\t\t\t\t//存到本地数据库\n\t\t\t\t// uni.removeStorageSync(this.userInfomation.userName+\"_route\");\n\t\t\t\tuni.setStorageSync(this.userInfomation.userName+\"_route\",this.userRoute);\n\t\t\t\tvar s=uni.getStorageSync(this.userInfomation.userName+\"_route\")\n\t\t\t}\n\t\t\tuni.reLaunch({\n\t\t\t\turl:\"../editRoute?routeId=\"+this.routeId\n\t\t\t});\n\t\t\t// uni.navigateBack()\n\t\t\t\n\t\t},\n\t\t\n\t\t//将时间转换为特定格式\n\t\tget_specialFormat:function(date){\n\t\t\tvar s=date.split('/');\n\t\t\tvar nDate=new Date(parseInt(s[0]),parseInt(s[1])-1,parseInt(s[2]));\n\t\t\tvar year=nDate.getFullYear();\n\t\t\tvar mon=nDate.getMonth() + 1 < 10 ? '0' + (nDate.getMonth() + 1) : nDate.getMonth() + 1;\n\t\t\tvar day=nDate.getDate() < 10 ? '0' + nDate.getDate() : nDate.getDate();\n\t\t\treturn year+'-'+mon+'-'+day;\n\t\t},\n\t\t/* 时间检查\n\t\t\t// 开始日期大于结束日期\t\tStatus_A\n\t\t\t// 调整后天数小于行程天数\t\tStatus_B\n\t\t\t// return \"Status_A-Status_B\"\n\t\t*/\n\t\tcheck_date:function(sDate,eDate){\n\t\t\tvar Status_A,Status_B;\n\t\t\tvar sDay=new Date(sDate);\n\t\t\tvar eDay=new Date(eDate);\n\t\t\tvar day=this.dateSpace(sDate,eDate);\n\t\t\t\n\t\t\tStatus_A = sDay.getTime()>eDay.getTime()?true:false;\n\t\t\tStatus_B = day<this.routeInfomation.routeDay?true:false;\n\t\t\t\n\t\t\treturn Status_A+\"-\"+Status_B\n\t\t\t\n\t\t},\n\t\t//计算日期差\n\t\tdateSpace(sDate1, sDate2) { //sDate1和sDate2是2006-12-18格式 得出量日期之间的天数\n\t\t\tvar dateSpan, tempDate, iDays;\n\t\t\tsDate1 = Date.parse(sDate1);\n\t\t\tsDate2 = Date.parse(sDate2);\n\t\t\tdateSpan = sDate2 - sDate1;\n\t\t\tdateSpan = Math.abs(dateSpan);\n\t\t\tiDays = Math.floor(dateSpan / (24 * 3600 * 1000));\n\t\t\treturn iDays+1;\n\t\t}\n\t},\n\tcomponents:{\n\t\tQSInput,\n\t\tQSPickerDate,\n\t\tQSInfinitePics\n\t}\n}\n"],"sourceRoot":""}