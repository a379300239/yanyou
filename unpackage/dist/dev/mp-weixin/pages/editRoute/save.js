(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/editRoute/save"],{

/***/ 87:
/*!*******************************************************************************************!*\
  !*** D:/Vue/uni-app/myFirstApp/YanYou/YanYou/main.js?{"page":"pages%2FeditRoute%2Fsave"} ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);__webpack_require__(/*! @dcloudio/uni-stat */ 5);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _save = _interopRequireDefault(__webpack_require__(/*! ./pages/editRoute/save.vue */ 88));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_save.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 88:
/*!************************************************************************!*\
  !*** D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./save.vue?vue&type=template&id=33e58d0b& */ 89);
/* harmony import */ var _save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./save.vue?vue&type=script&lang=js& */ 91);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _save_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./save.vue?vue&type=style&index=0&lang=css& */ 93);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 14);

var renderjs





/* normalize component */

var component = Object(_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__["render"],
  _save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

/* hot reload */
if (false) { var api; }
component.options.__file = "D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 89:
/*!*******************************************************************************************************!*\
  !*** D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue?vue&type=template&id=33e58d0b& ***!
  \*******************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./save.vue?vue&type=template&id=33e58d0b& */ 90);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_template_id_33e58d0b___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 90:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue?vue&type=template&id=33e58d0b& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 91:
/*!*************************************************************************************************!*\
  !*** D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./save.vue?vue&type=script&lang=js& */ 92);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 92:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var uniCalendar = function uniCalendar() {return Promise.all(/*! import() | components/uni-calendar/uni-calendar */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/uni-calendar/uni-calendar")]).then(__webpack_require__.bind(null, /*! @/components/uni-calendar/uni-calendar.vue */ 153));};var uniPopup = function uniPopup() {return __webpack_require__.e(/*! import() | components/uni-popup/uni-popup */ "components/uni-popup/uni-popup").then(__webpack_require__.bind(null, /*! @/components/uni-popup/uni-popup.vue */ 146));};var uniSwipeAction = function uniSwipeAction() {return __webpack_require__.e(/*! import() | components/uni-swipe-action/uni-swipe-action */ "components/uni-swipe-action/uni-swipe-action").then(__webpack_require__.bind(null, /*! @/components/uni-swipe-action/uni-swipe-action.vue */ 162));};var uniSwipeActionItem = function uniSwipeActionItem() {return Promise.all(/*! import() | components/uni-swipe-action-item/uni-swipe-action-item */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/uni-swipe-action-item/uni-swipe-action-item")]).then(__webpack_require__.bind(null, /*! @/components/uni-swipe-action-item/uni-swipe-action-item.vue */ 167));};var dragSort = function dragSort() {return __webpack_require__.e(/*! import() | components/drag-sort/index */ "components/drag-sort/index").then(__webpack_require__.bind(null, /*! @/components/drag-sort/index.vue */ 122));};var hFormAlert = function hFormAlert() {return __webpack_require__.e(/*! import() | components/h-form-alert/h-form-alert */ "components/h-form-alert/h-form-alert").then(__webpack_require__.bind(null, /*! @/components/h-form-alert/h-form-alert.vue */ 177));};















































































































//弹窗输入
var _default =
{
  data: function data() {
    return {
      props: {
        label: 'siteName' },

      /*-----------------------------------------------------------------------------------------------------------------
                             -----------------------------------------------------------------------------------------------------------------*/
      /*日期数据*/
      // 配置时间区间不超过一年
      goodDatePickerOption2: {
        currentRangeStartDate: ' ',
        currentRangeEndDate: ' ',
        // initStartDate: ' ', //可选起始时间，可为空,默认今天
        // initEndDate: '2022-12-30', //可选结束时间，可为空,默认12个月后
        isRange: true //是否开启范围选择，必填
      },

      /*-----------------------------------------------------------------------------------------------------------------
         -----------------------------------------------------------------------------------------------------------------*/
      /*景点选择*/
      dayChoose: [//日期选项
      {
        text: '增加一天',
        style: {} },


      {
        text: '修改一天',
        style: {
          backgroundColor: 'rgb(205,129,131)' } },


      {
        text: '删除一天',
        style: {
          backgroundColor: 'rgb(255,58,49)' } },


      {
        text: '增加景点',
        style: {
          backgroundColor: 'rgb(254,156,1)' } }],



      siteChoose: [//景点选项
      {
        text: '增加景点',
        style: {} },


      {
        text: '删除景点',
        style: {
          backgroundColor: 'rgb(255,58,49)' } },


      {
        text: '修改景点',
        style: {
          backgroundColor: 'rgb(254,156,1)' } }],



      modifyDayInputShow: false,
      modifySiteInputShow: false,
      currentDayId: "",
      currentDayIndex: "", //当前选择日期
      currentSiteId: "", //当前选择景点ID
      currentSite: "", //当前选择景点
      currentSiteIndex: [0, 0, 0],
      currentSitesList: [], //复选框中景点列表
      currentSitesList_all: [], //复选框所有景点列表
      sites: { //应有景点数据
        province: ['四川', '陕西'],
        city: [
        ['成都', '都江堰', '内江', '大邑'],
        ['西安', '延安']],

        sites: [
        [
        ['熊猫基地', '成都理工大学'],
        ['都江堰', '青城山'],
        ['张大千纪念馆', '内江小面'],
        ['安仁古镇', '建川博物馆', '刘氏庄园']],

        [
        ['城墙', '大唐不夜城'],
        ['景点1', '景点2']]] },



      restaurant: { //应有景点数据
        province: ['四川', '陕西'],
        city: [
        ['成都', '都江堰', '内江', '大邑'],
        ['西安', '延安']],

        sites: [
        [
        ['成都饭店1', '成都饭店2'],
        ['都江堰饭店1', '都江堰饭店2'],
        ['内江饭店1', '内江饭店2'],
        ['大邑饭店1', '大邑饭店2', '大邑饭店3']],

        [
        ['西安饭店1', '西安饭店2'],
        ['延安饭店1', '延安饭店2']]] },



      hotel: { //应有景点数据
        province: ['四川', '陕西'],
        city: [
        ['成都', '都江堰', '内江', '大邑'],
        ['西安', '延安']],

        sites: [
        [
        ['成都酒店1', '成都酒店2'],
        ['都江堰酒店1', '都江堰酒店2'],
        ['内江酒店1', '内江酒店2'],
        ['大邑酒店1', '大邑酒店2', '大邑酒店3']],

        [
        ['西安酒店1', '西安酒店2'],
        ['延安酒店1', '延安酒店2']]] },



      //路线数据
      /*
      格式：
      	{
      		"routeImg":"",
      		"routeStartTime":"",
      		"routeEndTime":"",
      		"routeDay":"",
      		"route":
      		[	//第几天
      			[{	//第几个
      				"siteType":"site/restaurant/hotel/traffic/custom",
      				"siteName":"",
      				"siteImg":"",
      				"sitePlayTime":"",
      				"siteGrade":""
      			},],
      		]
      	}	
      	*/

      siteRoute_all: {
        routeImg: "",
        routeStartTime: "",
        routeEndTime: "",
        routeDay: "",
        route: [] },

      routeName: "",
      userInformation: "" };

  },
  components: {
    uniPopup: uniPopup, //弹窗
    uniCalendar: uniCalendar, //日历
    uniSwipeAction: uniSwipeAction,
    uniSwipeActionItem: uniSwipeActionItem, //侧滑
    dragSort: dragSort, //拖拽
    hFormAlert: hFormAlert //弹窗输入
  },
  computed: {
    //旅游持续时间
    currentDateNum: function currentDateNum() {
      if (this.goodDatePickerOption2.currentRangeStartDate == ' ')
      return 0;
      return this.dateSpace(this.goodDatePickerOption2.currentRangeStartDate, this.goodDatePickerOption2.currentRangeEndDate);
    } },

  methods: {
    onLoad: function onLoad(routeName) {
      //获得用户数据
      this.userInformation = uni.getStorageSync("currentUser");
      //加载应有景点数据
      this.load_siteData(this.sites);
      //加载路线数据
      if (JSON.stringify(routeName) != '{}') {
        this.load_routeData(routeName['routeName']);
      }
    },
    onShow: function onShow() {
    },
    /*-----------------------------------------------------------------------------------------------------------------
       -----------------------------------------------------------------------------------------------------------------*/
    /*所有数据的操作*/
    inital_siteRouteAll: function inital_siteRouteAll() {
      this.siteRoute_all = {
        routeImg: "",
        routeStartTime: "",
        routeEndTime: "",
        routeDay: "",
        route: [] };

    },
    /*-----------------------------------------------------------------------------------------------------------------
       -----------------------------------------------------------------------------------------------------------------*/
    /*日期*/
    //计算日期差
    dateSpace: function dateSpace(sDate1, sDate2) {//sDate1和sDate2是2006-12-18格式 得出量日期之间的天数
      var dateSpan, tempDate, iDays;
      sDate1 = Date.parse(sDate1);
      sDate2 = Date.parse(sDate2);
      dateSpan = sDate2 - sDate1;
      dateSpan = Math.abs(dateSpan);
      iDays = Math.floor(dateSpan / (24 * 3600 * 1000));
      return iDays + 1;
    },
    //打开日历，进行日期选择
    open_calendar: function open_calendar() {
      this.$refs.calendar.open();
    },
    //日历确认后逻辑
    confirm: function confirm(e) {
      //设置开始结束日期
      if (e.range.before == "" || e.range.after == "") {//单选
        this.goodDatePickerOption2.currentRangeStartDate = e.fulldate;
        this.goodDatePickerOption2.currentRangeEndDate = e.fulldate;
      } else
      {//多选
        this.goodDatePickerOption2.currentRangeStartDate = e.range.before;
        this.goodDatePickerOption2.currentRangeEndDate = e.range.after;
      }

      //设置天数
      var i = 0;
      this.inital_siteRouteAll(); //清空天数
      for (i; i < this.currentDateNum; i++) {
        this.siteRoute_all['route'].push([]);
      }

    },
    //得到输入data的后day天
    get_nextDate: function get_nextDate(date, day) {
      var s = date.split('-');
      var nDate = new Date(parseInt(s[0]), parseInt(s[1]) - 1, parseInt(s[2]));
      var nextDate = new Date(Date.parse(nDate) + day * 24 * 60 * 60 * 1000);
      var year = nextDate.getFullYear();
      var mon = nextDate.getMonth() + 1 < 10 ? '0' + (nextDate.getMonth() + 1) : nextDate.getMonth() + 1;
      var day = nextDate.getDate() < 10 ? '0' + nextDate.getDate() : nextDate.getDate();
      return year + '-' + mon + '-' + day;
    },
    /**********************************************************/
    /*天数操作*/
    //日期操作
    click_day: function click_day(e, dayId) {
      switch (e.content.text) {
        case "增加一天":this.add_day(dayId);break;
        case "修改一天":this.modify_day(dayId);break;
        case "删除一天":this.delete_day(dayId);break;
        case "增加景点":this.open_chooseView(dayId, 0);break;}

    },
    //增加一天
    add_day: function add_day(dayId) {
      if (this.goodDatePickerOption2.currentRangeStartDate == " " || this.goodDatePickerOption2.currentRangeEndDate == " ") {
        uni.showToast({
          title: "请选择日期",
          duration: 2000,
          icon: "none" });

      } else
      {
        //结束日期往后移一天
        this.goodDatePickerOption2.currentRangeEndDate = this.get_nextDate(this.goodDatePickerOption2.currentRangeEndDate, 1);


        this.siteRoute_all['route'].splice(dayId + 1, 0, []);

        // for(var i=dayId;i<this.siteRoute_all.length;i++){							//重新进行日期编号
        // 	this.siteRoute_all[i].dayNum=i+1;
        // }
      }

    },
    //删除一天
    delete_day: function delete_day(dayId) {
      //删除元素
      this.siteRoute_all['route'].splice(dayId, 1);
      //数组元素存在时，更改数组元素
      if (this.siteRoute_all['route'].length != 0) {
        // for(var i=dayId;i<this.siteRoute_all.length;i++){
        // 	this.siteRoute_all[i].dayNum=i+1;
        // }
        this.goodDatePickerOption2.currentRangeEndDate = this.get_nextDate(this.goodDatePickerOption2.currentRangeEndDate, -1);
      } else
      {
        this.goodDatePickerOption2.currentRangeStartDate = ' ';
        this.goodDatePickerOption2.currentRangeEndDate = ' ';
      }
    },
    //修改一天
    modify_day: function modify_day(dayId) {
      this.modifyDayInputShow = true;
      this.currentDayId = dayId;
    },
    comfirm_modifyDay: function comfirm_modifyDay(e) {
      //检验合法性
      if (Number(e.modifyDayView) >= 0 && Number(e.modifyDayView) <= this.siteRoute_all['route'].length) {
        var startDayId = this.currentDayId;
        var aimDayId = e.modifyDayView - 1;

        this.siteRoute_all['route'].splice(aimDayId + Number(startDayId < aimDayId), 0, this.siteRoute_all['route'][startDayId]); //插入
        this.siteRoute_all['route'].splice(startDayId + Number(startDayId > aimDayId), 1); //删除原来
        // for(var i=0;i<this.siteRoute_all.length;i++){							//重新进行日期编号
        // 	this.siteRoute_all[i].dayNum=i+1;
        // }


        //隐藏
        this.modifyDayInputShow = false;
      } else
      {
        uni.showToast({
          title: "请输入合法天数",
          duration: 2000,
          icon: "none" });

      }
    },
    cancel_modifyDay: function cancel_modifyDay() {
      this.modifyDayInputShow = false;
    },
    //保存路线
    save_route: function save_route() {
      if (this.routeName) {
        //加入日期数据
        this.siteRoute_all['routeImg'] = "/static/editRoute/img1.jpg";
        this.siteRoute_all['routeStartTime'] = this.goodDatePickerOption2.currentRangeStartDate;
        this.siteRoute_all['routeEndTime'] = this.goodDatePickerOption2.currentRangeEndDate;
        this.siteRoute_all['routeDay'] = this.dateSpace(this.goodDatePickerOption2.currentRangeStartDate, this.goodDatePickerOption2.currentRangeEndDate);
        try {
          var routesInDatabase = uni.getStorageSync(this.userInformation.userName + "_route"); //获得当前用户已有数据
          if (routesInDatabase) {//用户有数据
            //添加数据
            routesInDatabase[this.routeName] = this.siteRoute_all;
          } else
          {//用户无数据
            //新建用户数据
            var routesInDatabase = {};
            routesInDatabase[this.routeName] = this.siteRoute_all;
          }

          //数据加入数据库
          uni.setStorageSync(this.userInformation.userName + "_route", routesInDatabase);
          console.log(routesInDatabase);
        }
        catch (e) {
        }
        uni.showToast({
          title: "操作成功" });

        uni.switchTab({
          url: "../diyRoute/diyRoute" });

      }
    },
    /*-----------------------------------------------------------------------------------------------------------------
       -----------------------------------------------------------------------------------------------------------------*/
    /*景点*/
    /**********************************************************/
    //景点操作
    click_site: function click_site(e, dayId, siteId) {
      switch (e.content.text) {
        case "增加景点":this.open_chooseView(dayId, siteId);break;
        case "删除景点":this.delete_site(dayId, siteId);break;
        case "修改景点":this.modify_site(dayId, siteId);break;}

    },
    //提前加载数据
    load_data: function load_data(type) {
      switch (type) {
        //景点
        case 'site':{
            this.load_siteData(this.sites);
          }break;
        case 'restaurant':{
            this.load_siteData(this.restaurant);
          }break;
        case 'hotel':{
            this.load_siteData(this.hotel);
          }break;}

    },
    //加载路线数据
    load_routeData: function load_routeData(routeName) {
      var routeInformation = uni.getStorageSync(this.userInformation.userName + "_route")[routeName]; //获得当前用户路线数据
      this.siteRoute_all = routeInformation; //路线详细数据
      this.goodDatePickerOption2.currentRangeStartDate = routeInformation['routeStartTime'];
      this.goodDatePickerOption2.currentRangeEndDate = routeInformation['routeEndTime']; //路线开始时间、结束时间
      this.routeName = routeName;
    },
    load_siteData: function load_siteData(cacheSiteList) {
      //重置列表数据
      this.currentSitesList = [];
      this.currentSiteIndex = [0, 0, 0];
      this.currentSitesList_all = cacheSiteList;
      //默认景点
      this.currentSite = cacheSiteList.sites[this.currentSiteIndex[0]][this.currentSiteIndex[1]][this.currentSiteIndex[2]];
      //更新景点选择列表
      this.currentSitesList.push(cacheSiteList.province);
      this.currentSitesList.push(cacheSiteList.city[0]);
      this.currentSitesList.push(cacheSiteList.sites[0][0]);
    },
    //打开景点选择弹窗
    open_chooseView: function open_chooseView(dayId, siteId) {
      this.currentDayIndex = dayId;
      this.currentSiteId = siteId;
      this.$refs.chooseView.open();
    },
    //增加景点
    add_site: function add_site(siteType) {
      //关闭chooseView
      this.$refs.chooseView.close();
      this.siteRoute_all['route'][this.currentDayIndex].splice(this.currentSiteId + 1, 0, {
        siteType: siteType,
        siteName: this.currentSite,
        siteImg: "/static/choosePlace/chengdu.jpg",
        sitePlayTime: "建议游玩2小时",
        siteGrade: "评分4.8分" });

      // console.log(this.siteRoute_all[this.currentDayIndex].siteRoute_oneDay)
    },
    //复选框改变时触发
    change_site: function change_site(e) {
      //记录更改
      this.currentSiteIndex[e.detail.column] = e.detail.value;
      if (e.detail.column != 2)
      this.currentSiteIndex[e.detail.column + 1] = 0;
      //市
      this.currentSitesList[1] = this.currentSitesList_all.city[this.currentSiteIndex[0]];
      //景点
      this.currentSitesList[2] = this.currentSitesList_all.sites[this.currentSiteIndex[0]][this.currentSiteIndex[1]];
      //当前景点
      this.currentSite = this.currentSitesList_all.sites[this.currentSiteIndex[0]][this.currentSiteIndex[1]][this.currentSiteIndex[2]];
    },
    //删除景点
    delete_site: function delete_site(dayId, siteId) {
      this.siteRoute_all['route'][dayId].splice(siteId, 1);
    },
    //更改景点
    modify_site: function modify_site(dayId, siteId) {
      this.modifySiteInputShow = true;
      this.currentDayId = dayId;
      this.currentSiteId = siteId;
    },
    comfirm_modifySite: function comfirm_modifySite(e) {
      //检验合法性
      if (Number(e.modifySiteView) >= 0 && Number(e.modifySiteView) <= this.siteRoute_all['route'][this.currentDayId].length) {
        var startSiteId = this.currentSiteId;
        var aimSiteId = Number(e.modifySiteView) - 1;
        // console.log(startSiteId,aimSiteId);

        this.siteRoute_all['route'][this.currentDayId].splice(aimSiteId + Number(startSiteId < aimSiteId), 0, this.siteRoute_all['route'][this.currentDayId][startSiteId]); //插入
        this.siteRoute_all['route'][this.currentDayId].splice(startSiteId + Number(startSiteId > aimSiteId), 1); //删除原来
        // for(var i=0;i<this.siteRoute_all.length;i++){							//重新进行日期编号
        // 	this.siteRoute_all[i].dayNum=i+1;
        // }


        //隐藏
        this.modifySiteInputShow = false;
      } else
      {
        uni.showToast({
          title: "请输入合法天数",
          duration: 2000,
          icon: "none" });

      }
    },
    cancel_modifySite: function cancel_modifySite() {
      this.modifySiteInputShow = false;
    },


    /**********************************************************/
    /*增加吃饭*/

    /**********************************************************/
    /*增加住宿*/

    /**********************************************************/
    /*增加交通*/

    /**********************************************************/
    /*增加自定义*/
    //打开自定义view
    open_customView: function open_customView(e) {
      this.$refs.customView.open();
    },
    //提交自定义路线
    sub_custom: function sub_custom(e) {
      if (this.currentSite == "") {
        uni.showToast({
          title: "请输入自定义景点",
          duration: 2000,
          icon: "none" });

      } else
      {
        this.add_site('custom');
        //关闭自定义框及选择框	
        this.$refs.chooseView.close();
        this.$refs.customView.close();
      }
    },
    //取消自定义
    cancel_custom: function cancel_custom(e) {
      this.$refs.customView.close();
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 93:
/*!*********************************************************************************************************!*\
  !*** D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./save.vue?vue&type=style&index=0&lang=css& */ 94);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_save_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 94:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Vue/uni-app/myFirstApp/YanYou/YanYou/pages/editRoute/save.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[87,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/editRoute/save.js.map