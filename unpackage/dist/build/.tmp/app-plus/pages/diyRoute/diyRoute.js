(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/diyRoute/diyRoute"],{2899:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(){return Promise.all([o.e("common/vendor"),o.e("components/chunLei-popups/chunLei-popups")]).then(o.bind(null,"c3e8"))},r={components:{chunLeiPopups:u},data:function(){return{isLogin:!1,isHaveRoute:"",userInformation:"",userRoute:"",diyRouteUrl:"../editRoute/editRoute?routeName=",cardId_qianZhui:"cardId_",uid:0,showDoList:!1,listData:[{title:"分享路线"},{title:"删除路线"}],x:0,y:0,currentRouteName:"",scrollTop:0}},methods:{onShow:function(){if(this.userInformation=t.getStorageSync("currentUser"),this.pd_login())if(this.isLogin=!0,this.pd_route()){this.isHaveRoute=!0,this.userRoute=t.getStorageSync(this.userInformation.userName+"_route");var e=0;for(var o in this.userRoute){this.userRoute[o]["num"]=e++;var u=this.get_currentTimeStatu(o);this.userRoute[o]["routeStatu"]=u}}else this.isHaveRoute=!1;else this.isLogin=!1},onPageScroll:function(t){this.scrollTop=t.scrollTop,this.showDoList=!1},pd_login:function(){return"true"==this.userInformation.success},pd_route:function(){return"{}"!=JSON.stringify(t.getStorageSync(this.userInformation.userName+"_route"))&&""!=t.getStorageSync(this.userInformation.userName+"_route")},get_currentTimeStatu:function(t){var e=new Date(this.userRoute[t].routeStartTime).getTime(),o=new Date(this.userRoute[t].routeEndTime).getTime(),u=new Date,r=u.getMonth()+1>=10?u.getMonth()+1:"0"+(u.getMonth()+1),n=u.getDate()+1>=10?u.getDate():"0"+u.getDate();return u=new Date(u.getFullYear()+"-"+r+"-"+n).getTime(),u<e?"待进行":u>=e&&u<=o?"进行中":"已结束"},open_doList:function(e,o){var u=this;this.currentRouteName=o;var r=this.userRoute[o]["num"];this.showDoList=!0;var n=t.createSelectorQuery().in(this),i="#"+this.cardId_qianZhui+r;n.select(i).boundingClientRect(function(t){u.x=(t["right"]-t["left"])/2+t["left"],u.y=(t["bottom"]-t["top"])/2+t["top"]+u.scrollTop/10+2}).exec()},clickList:function(t){switch(t.title){case"分享路线":this.share_route(this.currentRouteName);break;case"删除路线":this.delete_route(this.currentRouteName);break;default:break}},share_route:function(e){t.showToast({title:"该功能暂未开发",icon:"none"}),this.showDoList=!this.showDoList},delete_route:function(e){delete this.userRoute[e];var o=0,u=JSON.parse(JSON.stringify(this.userRoute));for(var r in this.userRoute)this.userRoute[r]["num"]=o++,delete u[r]["num"],delete u[r]["routeStatu"];t.setStorageSync(this.userInformation.userName+"_route",u),this.pd_route()||(this.isHaveRoute=!1)}},computed:{}};e.default=r}).call(this,o("6e42")["default"])},"29c1":function(t,e,o){"use strict";var u=o("c388"),r=o.n(u);r.a},3855:function(t,e,o){"use strict";var u,r=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.userRoute,function(e,o){var u=e.routeStartTime.replace(/-/g,"."),r=e.routeEndTime.replace("-",".");return{$orig:t.__get_orig(e),g0:u,g1:r}}));t.$mp.data=Object.assign({},{$root:{l0:o}})},n=[];o.d(e,"b",function(){return r}),o.d(e,"c",function(){return n}),o.d(e,"a",function(){return u})},"88dd":function(t,e,o){"use strict";(function(t){o("6954"),o("921b");u(o("66fd"));var e=u(o("ac16"));function u(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},"8b26":function(t,e,o){"use strict";o.r(e);var u=o("2899"),r=o.n(u);for(var n in u)"default"!==n&&function(t){o.d(e,t,function(){return u[t]})}(n);e["default"]=r.a},ac16:function(t,e,o){"use strict";o.r(e);var u=o("3855"),r=o("8b26");for(var n in r)"default"!==n&&function(t){o.d(e,t,function(){return r[t]})}(n);o("29c1");var i,s=o("f0c5"),a=Object(s["a"])(r["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],i);e["default"]=a.exports},c388:function(t,e,o){}},[["88dd","common/runtime","common/vendor"]]]);